<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://fuhong86.github.io/</id>
    <title>SnailMemos</title>
    <updated>2025-12-21T13:07:28.341Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://fuhong86.github.io/"/>
    <link rel="self" href="https://fuhong86.github.io/atom.xml"/>
    <subtitle>Just My Memos</subtitle>
    <logo>https://fuhong86.github.io/images/avatar.png</logo>
    <icon>https://fuhong86.github.io/favicon.ico</icon>
    <rights>All rights reserved 2025, SnailMemos</rights>
    <entry>
        <title type="html"><![CDATA[Debian_LXDE配置]]></title>
        <id>https://fuhong86.github.io/post/debian_lxde-pei-zhi/</id>
        <link href="https://fuhong86.github.io/post/debian_lxde-pei-zhi/">
        </link>
        <updated>2025-12-10T13:45:12.000Z</updated>
        <content type="html"><![CDATA[<h2 id="一-换源">一、换源</h2>
<pre><code># 更新软件包索引
sudo apt update

# 升级系统已安装包（可选但推荐）
sudo apt full-upgrade -y
</code></pre>
<h2 id="二-安装">二、安装</h2>
<pre><code># 安装LXDE桌面核心包 + LightDM显示管理器（LXDE默认搭配）
sudo apt install lxde lightdm -y
</code></pre>
<ul>
<li>以下方法安装失败</li>
</ul>
<blockquote>
<p>通过 tasksel 安装</p>
</blockquote>
<pre><code># 先安装tasksel工具（若未安装）
sudo apt install tasksel -y

# 安装LXDE桌面任务组
sudo tasksel install lxde-desktop
</code></pre>
<figure data-type="image" tabindex="1"><img src="https://fuhong86.github.io//post-images/1765375916059.png" alt="" loading="lazy"></figure>
<h2 id="三-创建登录账号">三、创建登录账号</h2>
<pre><code>sudo useradd -m -s /bin/bash username
sudo passwd username

# 将用户添加到sudo组
sudo usermod -aG sudo username

# 或在创建用户时直接添加
sudo adduser username --ingroup sudo
</code></pre>
<h2 id="四-开启ssh">四、开启SSH</h2>
<pre><code>#编辑配置文件 
nano /etc/ssh/sshd_config

#找到Port 22去掉注释 
#找到PermitRootLogin 改为yes允许root登录，如果添加了用户，可以不开启root登录

#修改好重启服务
service sshd restart
</code></pre>
<h2 id="五-安装远程">五、安装远程</h2>
<pre><code># 安装xrdp（远程桌面服务）
sudo apt install xrdp -y

# 给xrdp添加权限（解决连接黑屏问题）
sudo adduser xrdp ssl-cert

# 重启xrdp服务
sudo systemctl restart xrdp
</code></pre>
<h2 id="六-安装中文语言">六、安装中文语言</h2>
<pre><code># 安装locales，默认有
sudo apt install locales
# 配置语言环境
sudo dpkg-reconfigure locales

# 如果没有命令，可能是环境问题，以下方式可修复
# 临时生效（当前会话）
export PATH=$PATH:/usr/sbin
# 永久生效（所有 root 会话）
echo 'export PATH=$PATH:/usr/sbin' &gt;&gt; /root/.bashrc
source /root/.bashrc
# 验证 PATH 是否包含 /usr/sbin
echo $PATH  # 输出中能看到 /usr/sbin 即可

# 如果是缺失命令，可以安装包补充
sudo apt install -y dpkg-dev
</code></pre>
<h2 id="七-修改时区">七、修改时区</h2>
<pre><code>sudo timedatectl set-timezone Asia/Shanghai
</code></pre>
<h2 id="八-安装输入法">八、安装输入法</h2>
<pre><code>sudo apt install fcitx5 fcitx5-chinese-addons
</code></pre>
<h2 id="九-安装chrome">九、安装chrome</h2>
<pre><code># 安装必要依赖
sudo apt install -y curl gnupg ca-certificates apt-transport-https

# 下载并导入密钥（适配Debian 13，替换旧的密钥服务器方式）
curl -fsSL https://dl.google.com/linux/linux_signing_key.pub | sudo gpg --dearmor -o /usr/share/keyrings/google-chrome-keyring.gpg

# 创建并编辑chrome源文件
echo &quot;deb [arch=amd64 signed-by=/usr/share/keyrings/google-chrome-keyring.gpg] https://dl.google.com/linux/chrome/deb/ stable main&quot; | sudo tee /etc/apt/sources.list.d/google-chrome.list

# 再次更新apt缓存（加载新添加的Chrome源）
sudo apt update

# 安装正式版Chrome（推荐）
sudo apt install -y google-chrome-stable

# 若需测试版/开发版，替换为以下命令（可选）：
# sudo apt install -y google-chrome-beta  # 测试版
# sudo apt install -y google-chrome-unstable  # 开发版
</code></pre>
<h2 id="十-安装微信">十、安装微信</h2>
<pre><code>下载地址：https://linux.weixin.qq.com/

sudo dpkg -i WeChatLinux_x86_64.deb


</code></pre>
<blockquote>
<p>微信N开脚本（需要+x运行），先正常登录微信，后续用脚本启动微信</p>
</blockquote>
<pre><code>#!/bin/bash

# 删除 lock.ini 文件
if [ -f &quot;$HOME/.xwechat/lock/lock.ini&quot; ]; then
    rm -f &quot;$HOME/.xwechat/lock/lock.ini&quot;
fi

# 启动微信
/usr/bin/wechat %U  # 使用微信程序的实际路径
</code></pre>
<h2 id="十一-安装钉钉">十一、安装钉钉</h2>
<pre><code>#debian13有坑
# 下载地址：https://www.dingtalk.com/download
sudo dpkg -i com.xxxxx.deb

# 安装完启动不了，开始排查，因debian13不支持execstack，需要替换为patchelf
sudo apt update
sudo apt install patchelf  

#开始修复，注册目录
sudo patchelf --clear-execstack /opt/apps/com.alibabainc.dingtalk/files/7.8.15-Release.5102301/dingtalk_dll.so 
sudo patchelf --clear-execstack /opt/apps/com.alibabainc.dingtalk/files/7.8.15-Release.5102301/libconference_new.so 

# 启动钉钉验证
/opt/apps/com.alibabainc.dingtalk/files/Elevator.sh

# 还是启动不了，就查看日志，把日志粘贴给AI
cat /var/log/dpkg.log

# 例如日志提示
# Release.5102301//dingtalk_dll.so failed! Err=libpulse-mainloop-glib.so.0: cannot open shared object file: No such file or directory
# 缺少libpulse-mainloop-glib.so.0文件，AI提示修复脚本，修复后再启动验证一下
sudo apt install libpulse-mainloop-glib0

</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[NextCloud AIO]]></title>
        <id>https://fuhong86.github.io/post/nextcloud-aio/</id>
        <link href="https://fuhong86.github.io/post/nextcloud-aio/">
        </link>
        <updated>2025-11-30T14:44:48.000Z</updated>
        <content type="html"><![CDATA[<p>docker运行命令<br>
<code>sudo docker run --init --sig-proxy=false --name nextcloud-aio-mastercontainer --restart always --publish 80:80 --publish 8080:8080 --publish 8443:8443 --volume nextcloud_aio_mastercontainer:/mnt/docker-aio-config --volume /var/run/docker.sock:/var/run/docker.sock:ro ghcr.io/nextcloud-releases/all-in-one:latest</code></p>
<ul>
<li>跳过域名验证</li>
</ul>
<p><code>docker run --init --sig-proxy=false --name nextcloud-aio-mastercontainer --restart always --publish 80:80 --publish 8080:8080 --publish 8443:8443 --volume nextcloud_aio_mastercontainer:/mnt/docker-aio-config --volume /var/run/docker.sock:/var/run/docker.sock:ro --env SKIP_DOMAIN_VALIDATION=true ghcr.io/nextcloud-releases/all-in-one:latest</code></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Debian记录]]></title>
        <id>https://fuhong86.github.io/post/debian-ji-lu/</id>
        <link href="https://fuhong86.github.io/post/debian-ji-lu/">
        </link>
        <updated>2025-11-30T13:33:34.000Z</updated>
        <content type="html"><![CDATA[<p>在pve创建了一个新的lxc容器</p>
<h3 id="换源">换源</h3>
<blockquote>
<p>新的LXC容器什么都没有，包括curl也没有，没办法一键脚本换源，只能手动<br>
https://mirrors.tuna.tsinghua.edu.cn/help/debian/<br>
传统格式（/etc/apt/sources.list）Debian 版本 Debian 12 (bookworm)</p>
</blockquote>
<pre><code># 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释
deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bookworm main contrib non-free non-free-firmware
# deb-src https://mirrors.tuna.tsinghua.edu.cn/debian/ bookworm main contrib non-free non-free-firmware

deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bookworm-updates main contrib non-free non-free-firmware
# deb-src https://mirrors.tuna.tsinghua.edu.cn/debian/ bookworm-updates main contrib non-free non-free-firmware

deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bookworm-backports main contrib non-free non-free-firmware
# deb-src https://mirrors.tuna.tsinghua.edu.cn/debian/ bookworm-backports main contrib non-free non-free-firmware

# 以下安全更新软件源包含了官方源与镜像站配置，如有需要可自行修改注释切换
deb https://security.debian.org/debian-security bookworm-security main contrib non-free non-free-firmware
# deb-src https://security.debian.org/debian-security bookworm-security main contrib non-free non-free-firmware
</code></pre>
<p>debian13 DEB822 格式（/etc/apt/sources.list.d/debian.sources）</p>
<pre><code>Types: deb
URIs: https://mirrors.tuna.tsinghua.edu.cn/debian
Suites: trixie trixie-updates trixie-backports
Components: main contrib non-free non-free-firmware
Signed-By: /usr/share/keyrings/debian-archive-keyring.gpg

# 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释
# Types: deb-src
# URIs: https://mirrors.tuna.tsinghua.edu.cn/debian
# Suites: trixie trixie-updates trixie-backports
# Components: main contrib non-free non-free-firmware
# Signed-By: /usr/share/keyrings/debian-archive-keyring.gpg

# 以下安全更新软件源包含了官方源与镜像站配置，如有需要可自行修改注释切换
Types: deb
URIs: https://security.debian.org/debian-security
Suites: trixie-security
Components: main contrib non-free non-free-firmware
Signed-By: /usr/share/keyrings/debian-archive-keyring.gpg

# Types: deb-src
# URIs: https://security.debian.org/debian-security
# Suites: trixie-security
# Components: main contrib non-free non-free-firmware
# Signed-By: /usr/share/keyrings/debian-archive-keyring.gpg
</code></pre>
<h3 id="更新">更新</h3>
<pre><code>apt update
apt upgrade
</code></pre>
<h3 id="安装docker">安装docker</h3>
<pre><code>#安装必要软件包
apt install curl vim wget gnupg dpkg apt-transport-https lsb-release ca-certificates

#加入docker源
curl -sS https://download.docker.com/linux/debian/gpg | gpg --dearmor &gt; /usr/share/keyrings/docker-ce.gpg
echo &quot;deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-ce.gpg] https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/debian $(lsb_release -sc) stable&quot; &gt; /etc/apt/sources.list.d/docker.list

#加入源后需要更新一下
apt update

#安装docker
apt install docker-ce docker-ce-cli containerd.io docker-compose-plugin

#开启IPV6和日志大小配置
cat &gt; /etc/docker/daemon.json &lt;&lt; EOF
{
    &quot;log-driver&quot;: &quot;json-file&quot;,
    &quot;log-opts&quot;: {
        &quot;max-size&quot;: &quot;20m&quot;,
        &quot;max-file&quot;: &quot;3&quot;
    },
    &quot;ipv6&quot;: true,
    &quot;fixed-cidr-v6&quot;: &quot;fd00:dead:beef:c0::/80&quot;,
    &quot;experimental&quot;:true,
    &quot;ip6tables&quot;:true
}
EOF

#重启生效
systemctl restart docker

</code></pre>
<h3 id="ssh">SSH</h3>
<blockquote>
<p>LXC容器默认没有开SSH，需要手动打开</p>
</blockquote>
<pre><code>#编辑配置文件 
nano /etc/ssh/sshd_config

#找到Port 22去掉注释 
#找到PermitRootLogin 改为yes允许root登录

#修改好重启服务
service sshd restart

</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Linux使用onlyoffice]]></title>
        <id>https://fuhong86.github.io/post/linux-shi-yong-onlyoffice/</id>
        <link href="https://fuhong86.github.io/post/linux-shi-yong-onlyoffice/">
        </link>
        <updated>2025-11-27T14:13:20.000Z</updated>
        <content type="html"><![CDATA[<p>通过docker部署nextcloud aio</p>
<pre><code>services:
  nextcloud-aio-mastercontainer:
    image: ghcr.io/nextcloud-releases/all-in-one:latest
    container_name: nextcloud-aio-mastercontainer
    restart: always
    init: true
    ports:
      - &quot;8085:8080&quot;
      - &quot;8445:8443&quot;
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock:ro
      - nextcloud_aio_mastercontainer:/mnt/docker-aio-config

volumes:
  nextcloud_aio_mastercontainer:
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Linux安装与卸载应用命令]]></title>
        <id>https://fuhong86.github.io/post/linux-an-zhuang-ying-yong-ming-ling/</id>
        <link href="https://fuhong86.github.io/post/linux-an-zhuang-ying-yong-ming-ling/">
        </link>
        <updated>2025-11-14T02:05:42.000Z</updated>
        <content type="html"><![CDATA[<pre><code>#安装
sudo dpkg -i xxxx.deb
#卸载，先查包名，再删除包，-r保留配置，-P安全删除
dpkg -l | grep xxx
sudo dpkg -P xxxx
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[修改镜像源]]></title>
        <id>https://fuhong86.github.io/post/xiu-gai-jing-xiang-yuan/</id>
        <link href="https://fuhong86.github.io/post/xiu-gai-jing-xiang-yuan/">
        </link>
        <updated>2025-11-13T13:22:41.000Z</updated>
        <content type="html"><![CDATA[<pre><code>nano /etc/docker/daemon.json

{
    &quot;registry-mirrors&quot;: [
        &quot;https://docker.1panel.live&quot;,
        &quot;https://docker.1ms.run&quot;
    ]
}

systemctl restart docker
</code></pre>
]]></content>
    </entry>
</feed>